{"version":3,"file":"static/js/675.cc6ba5d4.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/MoviesList/MoviesList.module.css?de3d","components/MoviesList/MoviesList.jsx","webpack://react-homework-template/./src/components/SearchBar/SearchBar.module.css?35a0","components/SearchBar/SearchBar.jsx","pages/MoviesPage.jsx","services/api.js","services/constants.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"trendingItem\":\"MoviesList_trendingItem__ULUxz\",\"trendingLink\":\"MoviesList_trendingLink__XEAij\"};","import React from 'react';\nimport { Link, useLocation } from 'react-router-dom';\n\nimport css from './MoviesList.module.css';\n\nexport const MoviesList = ({ trending }) => {\n  const location = useLocation();\n  return (\n    <div>\n      {Array.isArray(trending) &&\n        trending.map(movie => (\n          <li key={movie.id} className={css.trendingItem}>\n            <Link\n              to={`/movies/${movie.id}`}\n              state={{ from: location }}\n              className={css.trendingLink}\n            >\n              {movie.title}\n            </Link>\n          </li>\n        ))}\n    </div>\n  );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"searchForm\":\"SearchBar_searchForm__V6XO6\",\"searchFormInput\":\"SearchBar_searchFormInput__9ldTo\",\"searchFormButton\":\"SearchBar_searchFormButton__U7vlA\"};","import React from 'react';\nimport css from './SearchBar.module.css';\n\nexport const Searchbar = ({ handleSubmit }) => {\n  return (\n    <form className={css.searchForm} onSubmit={handleSubmit}>\n      <input\n        className={css.searchFormInput}\n        name=\"search\"\n        type=\"text\"\n        autoComplete=\"off\"\n        autoFocus\n        placeholder=\"Search movies\"\n        required\n      />\n      <button type=\"submit\" className={css.searchFormButton}>\n        Search\n      </button>\n    </form>\n  );\n};\n","import React from 'react';\nimport { useState, useEffect } from 'react';\nimport { useSearchParams } from 'react-router-dom';\n\nimport { Loader } from '../components/Loader/Loader';\nimport { STATUSES } from '../services/constants';\nimport { Searchbar } from 'components/SearchBar/SearchBar';\nimport { MoviesList } from 'components/MoviesList/MoviesList';\n\nimport { requestMovieByQuery } from 'services/api';\n\nconst MoviesPage = () => {\n  const [searchMovies, setsearchMovies] = useState([]);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const [status, setStatus] = useState(STATUSES.idle);\n\n  const query = searchParams.get('query');\n\n  useEffect(() => {\n    if (query === null) return;\n\n    const fetchMovieByQuery = async query => {\n      try {\n        setStatus(STATUSES.pending);\n        const responseData = await requestMovieByQuery(query);\n        setsearchMovies(responseData);\n        setStatus(STATUSES.success);\n      } catch (error) {\n        setStatus(STATUSES.error);\n      }\n    };\n\n    fetchMovieByQuery(query);\n  }, [query]);\n\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    const searchValue = e.currentTarget.elements.search.value;\n\n    setsearchMovies([]);\n    setSearchParams({\n      query: searchValue,\n    });\n    e.target.reset();\n  };\n\n  return (\n    <div>\n      <Searchbar handleSubmit={handleSubmit} />\n      {status === STATUSES.pending && <Loader />}\n      {status === STATUSES.success && <MoviesList trending={searchMovies} />}\n    </div>\n  );\n};\n\nexport default MoviesPage;\n","import axios from 'axios';\n\nexport async function requestTrending() {\n  const BASE_URL = 'https://api.themoviedb.org/3/trending/movie/day';\n  const KEY = 'd425559355e0879fed139185dbbb845a';\n\n  const response = await axios.get(`${BASE_URL}?api_key=${KEY}&language=en-US`);\n  return response.data;\n}\n\nexport const requestMovieDetailsById = async movieId => {\n  const BASE_URL = 'https://api.themoviedb.org/3/movie/';\n  const KEY = 'd425559355e0879fed139185dbbb845a';\n\n  const response = await axios.get(\n    `${BASE_URL}${movieId}?api_key=${KEY}&language=en-US`\n  );\n  return response.data;\n};\n\nexport const requestMovieCast = async movieId => {\n  const BASE_URL = 'https://api.themoviedb.org/3/movie/';\n  const KEY = 'd425559355e0879fed139185dbbb845a';\n\n  const response = await axios.get(\n    `${BASE_URL}${movieId}/credits?api_key=${KEY}&language=en-US`\n  );\n  return response.data.cast;\n};\n\nexport const requestMovieReviews = async movieId => {\n  const BASE_URL = 'https://api.themoviedb.org/3/movie/';\n  const KEY = 'd425559355e0879fed139185dbbb845a';\n\n  const response = await axios.get(\n    `${BASE_URL}${movieId}/reviews?api_key=${KEY}&language=en-US&page=1`\n  );\n  return response.data.results;\n};\n\nexport const requestMovieByQuery = async SearchValue => {\n  const BASE_URL = 'https://api.themoviedb.org/3/search/movie';\n  const KEY = 'd425559355e0879fed139185dbbb845a';\n\n  const response = await axios.get(\n    `${BASE_URL}?api_key=${KEY}&query=${SearchValue}&include_adult=false&language=en-US&page=1`\n  );\n  return response.data.results;\n};\n","export const STATUSES = {\n  idle: 'idle',\n  pending: 'pending',\n  success: 'success',\n  error: 'error',\n};\n"],"names":["MoviesList","_ref","trending","location","useLocation","_jsx","children","Array","isArray","map","movie","className","css","Link","to","concat","id","state","from","title","Searchbar","handleSubmit","_jsxs","onSubmit","name","type","autoComplete","autoFocus","placeholder","required","_useState","useState","_useState2","_slicedToArray","searchMovies","setsearchMovies","_useSearchParams","useSearchParams","_useSearchParams2","searchParams","setSearchParams","_useState3","STATUSES","_useState4","status","setStatus","query","get","useEffect","fetchMovieByQuery","_asyncToGenerator","_regeneratorRuntime","_callee","responseData","_context","prev","next","requestMovieByQuery","sent","t0","stop","_x","apply","arguments","e","preventDefault","searchValue","currentTarget","elements","search","value","target","reset","Loader","requestTrending","_requestTrending","_callee5","response","_context5","axios","abrupt","data","requestMovieDetailsById","movieId","requestMovieCast","_ref2","_callee2","_context2","cast","_x2","requestMovieReviews","_ref3","_callee3","_context3","results","_x3","_ref4","_callee4","SearchValue","_context4","_x4","idle","pending","success","error"],"sourceRoot":""}